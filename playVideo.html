<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Play Video</title>
    <link rel="stylesheet" href="src/styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="container-fluid">
        <a class="navbar-brand" href="index.html">
          <img src="images/Menu white logo.svg" width="25px" />
          <img src="images/YouTube Logo Vector.png" width="120px" />
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav mx-auto mb-2 mb-lg-0">
            <li class="search">
              <input placeholder="Search" />
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="#fff"
                class="bi bi-search"
                viewBox="0 0 16 16"
              >
                <path
                  d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"
                />
              </svg>
            </li>
            <li>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="#fff"
                class="bi bi-mic-fill"
                viewBox="0 0 16 16"
              >
                <path d="M5 3a3 3 0 0 1 6 0v5a3 3 0 0 1-6 0V3z" />
                <path
                  d="M3.5 6.5A.5.5 0 0 1 4 7v1a4 4 0 0 0 8 0V7a.5.5 0 0 1 1 0v1a5 5 0 0 1-4.5 4.975V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 .5-.5z"
                />
              </svg>
            </li>
          </ul>
          <div class="menu-icons">
            <a href="#">
              <img
                src="images/Upload Button.png"
                alt="Upload Video"
                width="30"
              />
            </a>
            <a href="#">
              <img src="images/Apps button.png" alt="Apps" width="30" />
            </a>
            <a href="#">
              <img src="images/Bell Icon.png" alt="Notifications" width="30" />
            </a>
            <a href="#">
              <img
                src="http://unsplash.it/36/36?gravity=center"
                alt="Your Channel"
                class="menu-channel-icon"
              />
            </a>
          </div>
        </div>
      </div>
    </nav>
    <div>
      <div class="container mt-4">
        <video src="src/Strawberries.mp4" controls width="800" autoplay></video>
      </div>

      <!-- Comments -->
      <div class="comment-container">
        <h2>Leave a Comment</h2>
        <div class="comment-form">
          
            <textarea name="comment" id="comment" cols="30" rows="5" placeholder="Write your comment here..." required></textarea>
            
            <br>
            <button id="insert" >Post Comment</button>
        </div>

        <!-- Asynchronous Comments -->
        <span class="hidden">
          <br>
          <div>
            <img
                  src="http://unsplash.it/36/36?gravity=center"
                  alt=""
                  class="channel-icon"
                />
                <span id="myComment"></span>
          </div>
        </span>
    </div>
    </div>
    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";
      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries

      // Your web app's Firebase configuration
      const firebaseConfig = {
        apiKey: "AIzaSyCtu2sck5t49E4UuzQYua-xCCZLTlxKYCU",
        authDomain: "nameless-storage.firebaseapp.com",
        databaseURL:
          "https://nameless-storage-default-rtdb.europe-west1.firebasedatabase.app",
        projectId: "nameless-storage",
        storageBucket: "nameless-storage.appspot.com",
        messagingSenderId: "997487656848",
        appId: "1:997487656848:web:d6dd0647f1cac1d6157d15",
    };
    
    // Initialize Firebase
    const app = initializeApp(firebaseConfig)
    
      import {
        getDatabase,
        ref,
        get,
        set,
        child,
        update,
        remove,
      } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-database.js";

      const db = getDatabase();

      var enterID = document.querySelector("#enterID");
      var enterName = document.querySelector("#enterName");
      var enterAge = document.querySelector("#enterAge");
      var findID = document.querySelector("#findID");
      var findName = document.querySelector("#findName");
      var findAge = document.querySelector("#findAge");
      var comment = document.querySelector("#comment");
      var myComment = document.querySelector("#myComment");

      var insertBtn = document.querySelector("#insert");
      var updateBtn = document.querySelector("#update");
      var removeBtn = document.querySelector("#remove");
      var findBtn = document.querySelector("#find");

      function InsertData() {
        set(ref(db, "People/" + enterID.value), {
          Name: enterName.value,
          ID: enterID.value,
          Age: enterAge.value,
        })
          .then(() => {
            alert("Data added successfully");
          })
          .catch((error) => {
            alert(error);
          });
      }

      function InsertComments() {
        set(ref(db, "Comments/"), {
          Comment: comment.value,
        })
          .then(() => {
            alert("Data added successfully");
          })
          .catch((error) => {
            alert(error);
          });
      }

      function FindData() {
        const dbref = ref(db);

        get(child(dbref, "People/" + findID.value))
          .then((snapshot) => {
            if (snapshot.exists()) {
              findName.innerHTML = "Name: " + snapshot.val().Name;
              findAge.innerHTML = "Age: " + snapshot.val().Age;
            } else {
              alert("No data found");
            }
          })
          .catch((error) => {
            alert(error);
          });
      }

      // show comments
      function showComments() {
        const dbref = ref(db);

        get(child(dbref, "Comments/"))
          .then((snapshot) => {
            if (snapshot.exists()) {
              myComment.innerHTML = "Comments: " + snapshot.val().Comment;
            } else {
              alert("No data found");
            }
          })
          .catch((error) => {
            alert(error);
          });
      }

      function UpdateData() {
        update(ref(db, "People/" + enterID.value), {
          Name: enterName.value,
          Age: enterAge.value,
        })
          .then(() => {
            alert("Data updated successfully");
          })
          .catch((error) => {
            alert(error);
          });
      }

      function RemoveData() {
        remove(ref(db, "People/" + enterID.value))
          .then(() => {
            alert("Data deleted successfully");
          })
          .catch((error) => {
            alert(error);
          });
      }


      insertBtn.addEventListener("click", InsertData);
      insertBtn.addEventListener("click", InsertComments);
      insertBtn.addEventListener("click", showComments);

      updateBtn.addEventListener("click", UpdateData);
      removeBtn.addEventListener("click", RemoveData);
      findBtn.addEventListener("click", FindData);
    </script>
  </body>
</html>
